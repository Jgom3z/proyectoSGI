{% extends "base.html" %}
{% block title %}Detalle del Investigador{% endblock %}
{% block content %}
<div class="container-top">
  <p class="enlaces">
    <a class="a-enlaces" href="/vistaInicio">Inicio \ </a>
    <a class="a-enlaces" href="{{ url_for('idVistaInvestigadores.listar') }}">Investigadores \</a>
    <span class="text-secondary">Detalle Investigador</span>
  </p>
</div>
<div class="container mt-4">
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h3 class="text-investigador m-0 text-center flex-grow-1">{{ investigador.nombre_investigador }}</h3>
      <button class="btn btn-usb" type="button" data-bs-toggle="modal" data-bs-target="#editarInvestigador">
        Editar
      </button>
    </div>
    <div class="card-body">
      <table class="table table-bordered">
        <tbody>
          <tr>
            <th>Identificación:</th>
            <td>{{ investigador.cedula }}</td>
            <th>Facultad:</th>
            <td>{{ investigador.nombre_facultad }}</td>
          </tr>
          <tr>
            <th>Nivel de Formación:</th>
            <td>{{ investigador.nivel_de_formacion }}</td>
            <th>Categoría Institución:</th>
            <td>{{ investigador.categoria_institucion }}</td>
          </tr>
          <tr>
            <th>Categoría Colciencias:</th>
            <td>{{ investigador.categoria_colciencias }}</td>
            <th>ORCID:</th>
            <td>{{ investigador.orcid }}</td>
          </tr>
          <tr>
            <th>Correo:</th>
            <td>{{ investigador.correo }}</td>
            <th>Teléfono:</th>
            <td>{{ investigador.telefono }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="card py-2">
    <div class="card-header">
      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active a-usb"
            id=" Proyectos-tab"
            data-bs-toggle="tab"
            data-bs-target="# Proyectos"
            type="button"
            role="tab"
            aria-controls=" Proyectos"
            aria-selected="true"
          >
            Proyectos
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link a-usb"
            id="productos-tab"
            data-bs-toggle="tab"
            data-bs-target="#productos"
            type="button"
            role="tab"
            aria-controls="productos"
            aria-selected="false"
          >
            Productos
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link a-usb"
            id="grupos-tab"
            data-bs-toggle="tab"
            data-bs-target="#grupos"
            type="button"
            role="tab"
            aria-controls="grupos"
            aria-selected="false"
          >
           Grupos
          </button>
        </li>
      </ul>
    </div>
    <div class="container my-2">
      <div class="row">
        <div class="col-md-4">
          <div class="input-group col-4">
            <button
              class="btn btn-usb btn-outline-secondary text-white"
              type="button"
              id="button-search"
            >
              <img
                class="text-ligth"
                src="{{ url_for('static', filename='icons/search.svg') }}"
                alt="Search Icon"
              />
            </button>
            <input
              type="search"
              class="form-control"
              placeholder="Buscar ..."
              aria-label="Example text with button addon"
              aria-describedby="button-addon1"
              id="input-search"
            />
          </div>
        </div>
      </div>
    </div>
    <div class="tab-content" id="myTabContent">
      <div
        class="tab-pane fade show active"
        id="proyectos"
        role="tabpanel"
        aria-labelledby="proyectos-tab"
      >
        <!--proyectos-->
        <table class="table align-items-center ml-5" id="proyectos">
          <thead>
            <tr>
              <th>Editar</th>
              <th>Proyecto</th>
              <th>Fecha de Inicio</th>
              <th>Fecha de finalización</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for item in proyectos%}
            <tr>
              <td>
                <button
                  class="btn btn-sm btn-light"
                  type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#editarProyecto"
                  onclick="loadData('/investigadores/get_proyecto', id_proyecto='{{ item.id_investigador_proyecto }}')"
                >
                  <img
                    src="{{ url_for('static', filename='icons/pencil.svg') }}"
                    alt="Search Icon"
                  />
                </button>
              </td>
              <td>{{item.nombre_proyecto}}</td>
              <td>{{item.fecha_inicio}}</td>
              <td>{{item.fecha_final}}</td>
              <td class="text-center">
                <button
                  type="button"
                  class="btn btn-sm btn-danger"
                  data-bs-toggle="modal"
                  data-bs-target="#ModalEliminarProyecto"
                  onclick="loadDataDeleteProyecto('{{ item.id_investigador_proyecto }}', '{{ item.id_investigador}}')"
                >
                  <img
                    src="{{ url_for('static', filename='icons/trash.svg') }}"
                    alt="Search Icon"
                  />
                </button>
              </td>
            </tr>
            {% endfor %} {% include
            'investigadores/editar-proyecto-investigador.html' %}
          </tbody>
        </table>
      </div>
      <div
        class="tab-pane fade"
        id="productos"
        role="tabpanel"
        aria-labelledby="productos-tab"
      >
        <!--Proyectos-->
        <table class="table align-items-center ml-5" id="productos">
          <thead>
            <tr>
              <th>Producto</th>
              <th>Fecha de Inicio</th>
              <th>Fecha de terminación</th>
            </tr>
          </thead>
          <tbody>
            {% for item in productos%}
            <tr>
              <td>{{item.nombre_producto}}</td>
              <td>{{item.fecha_inicio}}</td>
              <td>{{item.fecha_terminacion}}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div
        class="tab-pane fade"
        id="grupos"
        role="tabpanel"
        aria-labelledby="grupos-tab"
      >
        <!--Planes-->
        <table class="table align-items-center" id="grupos">
          <thead>
            <tr>
              <th>Editar</th>
              <th>Grupos Activos</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for item in grupos%}
            <tr>
              <td>
                <button
                  class="btn btn-sm btn-light"
                  type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#editarGrupo"
                  onclick="loadData('/investigadores/get_grupo', id_investigador='{{ item. }}')"
                >
                  <img
                    src="{{ url_for('static', filename='icons/pencil.svg') }}"
                    alt="Search Icon"
                  />
                </button>
              </td>
              <td>{{item.grupos_activos}}</td>
              <td>{{item.periodo}}</td>
              <td class="text-center">
                <button
                  type="button"
                  class="btn btn-sm btn-danger"
                  data-bs-toggle="modal"
                  data-bs-target="#ModalEliminarGrupo"
                  onclick="loadDataDeletePlan('{{ item.id_plan_trabajo }}', '{{ item.id_semillero }}')"
                >
                  <img
                    src="{{ url_for('static', filename='icons/trash.svg') }}"
                    alt="Search Icon"
                  />
                </button>
              </td>
            </tr>
            {% endfor %} 
            {% include 'investigadores/editar-grupo-investigador.html' %}
            {% include 'investigadores/eliminar-grupo-investigador.html' %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% include 'investigadores/editar.html' %}

{% endblock %}
{% extends "base.html" %}
{% block title %}Detalle Grupo de Investigación{% endblock %}
{% block content %}
<div class="container-top">
  <p class="enlaces">
    <a class="a-enlaces" href="/vistaInicio">Inicio \ </a>
    <a class="a-enlaces" href="/vistaInvestigaciones">Investigaciones \</a>
    <a class="a-enlaces" href="{{ url_for('idVistaGruposInvestigacion.listar') }}">Grupos de Investigación \</a>
    <span class="text-secondary">Detalle Grupo</span>
  </p>
</div>
<div class="container mt-4">
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h3 class="text-grupo m-0 text-center flex-grow-1">{{ grupo.nombre_grupo }}</h3>
      <button class="btn btn-usb" type="button" data-bs-toggle="modal" data-bs-target="#editarGrupo">
        Editar
      </button>
    </div>
    <div class="card-body">
      <table class="table table-bordered">
        <tbody>
          <tr>
            <th>Código GrupLAC:</th>
            <td>{{ grupo.codigo_grup_lac }}</td>
            <th>Categoría Colciencias:</th>
            <td>{{ grupo.categoria_colciencias }}</td>
          </tr>
          <tr>
            <th>Área de Conocimiento:</th>
            <td>{{ grupo.area_conocimiento }}</td>
            <th>Facultad:</th>
            <td>{{ grupo.nombre_facultad }}</td>
          </tr>
          <tr>
            <th>Líder del Grupo:</th>
            <td>{{ grupo.nombre_investigador }}</td>
            <th>Fecha de Creación:</th>
            <td>{{ grupo.fecha_creacion }}</td>
          </tr>
          <tr>
            <th>Fecha de Finalización:</th>
            <td>{{ grupo.fecha_finalizacion or 'N/A' }}</td>
            <th>Plan Estratégico:</th>
            <td>{{ grupo.plan_estrategico }}</td>
          </tr>
          <tr>
            <th>Categoría Meta:</th>
            <td>{{ grupo.categoria_meta }}</td>
            <th>Estrategia Meta:</th>
            <td>{{ grupo.estrategia_meta }}</td>
          </tr>
          <tr>
            <th>Visión:</th>
            <td colspan="3">{{ grupo.vision }}</td>
          </tr>
          <tr>
            <th>Objetivos:</th>
            <td colspan="3">{{ grupo.objetivos }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <ul class="nav nav-tabs mt-4" id="grupoTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active a-usb" id="lineas-tab" data-bs-toggle="tab" data-bs-target="#lineas" type="button" role="tab" aria-controls="lineas" aria-selected="true">Líneas de Investigación</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link a-usb" id="investigadores-tab" data-bs-toggle="tab" data-bs-target="#investigadores" type="button" role="tab" aria-controls="investigadores" aria-selected="false">Investigadores</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link a-usb" id="proyectos-tab" data-bs-toggle="tab" data-bs-target="#proyectos" type="button" role="tab" aria-controls="proyectos" aria-selected="false">Proyectos</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link a-usb" id="semilleros-tab" data-bs-toggle="tab" data-bs-target="#semilleros" type="button" role="tab" aria-controls="semilleros" aria-selected="false">Semilleros</button>
    </li>
  </ul>

  <div class="tab-content" id="grupoTabsContent">
    <div class="tab-pane fade show active" id="lineas" role="tabpanel" aria-labelledby="lineas-tab">
        <table class="table">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Descripción</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody>
                {% for linea in lineas %}
                <tr>
                    <td>{{ linea.nombre_linea }}</td>
                    <td>{{ linea.descripcion }}</td>
                    <td>{{ linea.estado }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="tab-pane fade" id="investigadores" role="tabpanel" aria-labelledby="investigadores-tab">
      <table class="table">
          <thead>
              <tr>
                  <th>Nombre</th>
                  <th>Estado</th>
              </tr>
          </thead>
          <tbody>
              {% for investigador in investigadores %}
              <tr>
                  <td>{{ investigador.nombre_investigador }}</td>
                  <td>{{ investigador.estado }}</td>
              </tr>
              {% endfor %}
          </tbody>
      </table>
    </div>
    <!-- ... otras pestañas para proyectos y semilleros ... -->
  </div>

{% include 'grupos/editar.html' %}

<script>
  // Aquí puedes agregar el JavaScript necesario
</script>

{% endblock %}